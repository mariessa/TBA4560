\chapter{Discussion on Centralised versus Distributed Updates }
To keep service databases in a multi-provider situation up-to-date, data consistency 
%and coherency 
is important. Data consistency means that if a change to the map data in the data base has occurred, the update is available for all subscribers of the system. A well-architected system does this right after the map-data is updated \citep{Breslow2004}. As was stated in chapter \ref{generic}, the transaction time for updating the subscribers of the SFKB system with geosynchronizing was within a reasonable time, thus providing data consistency. Another reason why updating of the FKB data in the SFKB does not have huge latencies is because of (in addition to zippng of the GML files) \textit{short transactions} (ref. conversation with Eggan, L.). Short transactions are transaction without extreme amounts of data, due to limited session time. When updating a feature instance it gets locked (ref. chapter \ref{qms-api})  TODO: skrive om short transactions.
%Data coherency 


The benefits of the new SFKB sytem are numerous, as compared to local storage. 
%The map data is freshly updated for the end-users, and t
The changes will carry through to \textit{all} end-users, as opposed to local storage, which only applies to the users of that specific municipality \citep{Dontigney2017}. Another benefit is a more efficient and effective validation process, as the requirements are defined and validated one place, and every change to the central store is done by the agency where the change actually occurred \citep{Kartverket2017e}. 

There are several authors that agree on the benefits \citep{Reichardt2012, Zhao2012}. The Canadian geosynchronisation project was according to \cite{Reichardt2012} providing the most current and reliable data, consequently avoiding unnecessary versioning and keeping the duplication of data at a minimized level. As the Norwegian geosynchronisation standard is a further development of the Canadian, it gives an indication that the Norwegian geosynchronising process are providing these advantages as well (ref. conversation with Lars Eggan from Norconsult Informasjonssysemer).


%Centralisation of data management within different scientific fields where sharing and analysing data is major tasks have been important for (...), and entering data directly into databases     In the paper \textit{A Generic framework for synchronidistributed data management in archaeological related disiplines} \cite{LOHRER2016558} discuss the advantages and disadvantages of centralised data management within the archaeological field

\subsubsection{Spatial Data Infrastuctures}

According to \cite{Peng2005}, sharing data on file level is causing latency in update of the data, and it is difficult to deduce a generalised standardisation for all geodata. Reaching consensus may therefore be difficult.  Spatial data infrastructures (SDI) seek to facilitate the access and integration of geospatial data coming from various sources. To achieve this objective, systems must be interoperable \citep{giuliani2013}. 

As each country normally operates with separate file formats for the geospatial data \citep{Frenvik2017a}, interoperability across borders can be a challenge. The Infrastructure for Spatial Information in the European Community (INSPIRE) is the European collaboration for a common standard for describing and sharing spatial data \citep{INSPIRE}. With this directive at hand geospatial data exchange across country borders, and system solutions, becomes easier. 


%One of the disadvantages of updating directly into a data store is that, as was stated earlier in this chapter, that it may be difficult to obtain a generalised data format and that validation thus will be difficult. 

The disadvantage of updating directly to a data store (having validating difficulties when a generalised data format is not obtained) will not be a problem for the SFKB system. The Norwegian map data has been standardised for 30 years, with the standard for exchanging geospatial data in Norway, SOSI (Samordnet Opplegg for Stedfestet Informasjon). The SOSI-standard follows the INSPIRE directive for sharing data, and for identifying spatial objects amongst other things (LocalId was introduced chapter \ref{ngis}) \citep{Kartverket2012, Hokstad2016}. By having the SOSI standard for exchanging geospatial data, validation problems will mainly be because of humanly errors. This last assumptions can be further investigated in later works. 

GeoIntegrasjon, common standards for collaboration across systems(e.g. GIS and archive systems) for the public sector in Norway, is another topic that can be further introduced in later works. 


% The SOSI format, the standard for geographical data in Norway is used. As the SOSI-standard follows the INSPIRE directive by suggesting that
%This is due to the fact that the SOSI-standard follows the INSPIRE directive, and suggests that all object have an UUID  The UUID the SOSI-standard follows the INSPIRE standard for identifying spatial objects \citep{Kartverket2012, Hokstad2016}

%The SOSI format can be a quite touchy subject in the Norwegian geomatic's community. 

%The SOSI-format and the SOSI-standard 
%In Norway there is a standard for exchanging geospatial data: SOSI (Samordnet Opplegg for Stedfestet Informasjon). When mentioning SOSI it is hard not to 


%SOSI – Samordnet Opplegg for Stedfestet Informasjon. SOSI har hittil vært kjent som et format, men er mye mer. Standardene utarbeides som UML-modeller, og kan representeres ved ulike formater. SOSI er nå i en overgangsfase mellom SOSI prikkformat og SOSI GML-format. SOSI følger de internasjonale standardiseringsarbeidet i OGC og ISO/TC 211, samt INSPIRE.

%GML – Geographic Markup Language GML er et «rikt» format og står for Geographic Markup Language, og er basert på XML. Kartverket har lagt ned mye jobb i å gå fra SOSI prikkformat til GML-format. Det arbeides med mulighet for å levere FKB-data og arealplan-data på GML. Se Link: https://en.wikipedia.org/wiki/Geography_Markup_Language

%SOSI prikkformat: Det formatet som hittil har vært dominerende og godt kjent i Norge, men er tenkt erstattet av GML. SOSI prikkformat er et «rikt» format, men GML er «rikere». Det er vedtatt ikke å utvide det sær-norske SOSI prikkformatet og heller ta i bruk GML.


%Previous work - storing centrally

%\cite{Breslow2004}



%Dette er utenfor scopet: 
%Taking a broader look at the concept of centralising, there are some fields that do not encourage centralising network infrastructures. Such as within the field of waste water management, electricity  and heater and water supply \cite{Eggimann2016}. 



%"Data coherency and data consistency are important properties of WAFS implementations, because they ensure that file updates are safe (cannot be written over) and available throughout the network of edge devices-crucial features for supporting engineering collaboration.

%Data coherency means that file updates (writes) from any one remote office are guaranteed never to conflict with updates from antrther remote office. Properly designed WAFS implementations guarantee this by maintaining a system of file leases. Leases are defined as a particular access privilege to a file from a remote office.

%...
%Data consistency implies that file updates made at one office are always available enterprise-wide, and well-architected WAFS system do this immediately after the update is made. Again, for collaboration, this is supremely important because remote designers want to be sure they are working on the most current version of any file, no matter where it was worked on last."



